import{_ as n,c as s,o as a,e as p}from"./app.f182fb68.js";const g='{"title":"setup\u7684\u53C2\u6570\uFF08setup\u4E24\u4E2A\u6CE8\u610F\u70B9\uFF09","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. props","slug":"_1-props"},{"level":2,"title":"2. context","slug":"_2-context"},{"level":3,"title":"emit(\u5E38\u7528)","slug":"emit-\u5E38\u7528"},{"level":3,"title":"attrs(\u4E0D\u592A\u5E38\u7528)","slug":"attrs-\u4E0D\u592A\u5E38\u7528"},{"level":3,"title":"slots (\u4E0D\u592A\u5E38\u7528)","slug":"slots-\u4E0D\u592A\u5E38\u7528"},{"level":3,"title":"expose (\u4E0D\u592A\u5E38\u7528)","slug":"expose-\u4E0D\u592A\u5E38\u7528"}],"relativePath":"blog/02_vue3/3_setup\u7684\u53C2\u6570.md","lastUpdated":1657876672000}',t={},e=p(`<h1 id="setup\u7684\u53C2\u6570\uFF08setup\u4E24\u4E2A\u6CE8\u610F\u70B9\uFF09" tabindex="-1">setup\u7684\u53C2\u6570\uFF08setup\u4E24\u4E2A\u6CE8\u610F\u70B9\uFF09</h1><ul><li><a href="https://v3.cn.vuejs.org/guide/composition-api-setup.html#%E5%8F%82%E6%95%B0" target="_blank" rel="noopener noreferrer">\u5B98\u7F51\u4ECB\u7ECD</a></li></ul><ol><li><strong>setup\u4F1A\u5728beforeCreate\u4E4B\u524D\u8C03\u7528\u4E00\u6B21\uFF0C\u6B64\u65F6this\u4E3Aunderfined</strong></li><li><strong>setup\u53C2\u6570\uFF1Asetup(props,context)</strong></li></ol><h2 id="_1-props" tabindex="-1">1. props</h2><ul><li><p><strong>\u4F20props\u7684\u65B9\u5F0F</strong></p><ol><li><a href="https://v3.cn.vuejs.org/guide/component-props.html#prop-%E7%B1%BB%E5%9E%8B" target="_blank" rel="noopener noreferrer">\u5B98\u7F51\u5C31\u5F88\u8BE6\u7EC6\uFF0C\u4E0Evue2\u6CA1\u6709\u5565\u533A\u522B</a></li></ol></li><li><p><strong>\u83B7\u53D6props\u7684\u65B9\u5F0F</strong></p></li></ul><blockquote><p><strong>\u5217\u5B50\uFF1A\u7236\u7EC4\u4EF6\u4F20\u4E86name=&quot;wenl&quot; :age=&quot;123&quot;</strong></p></blockquote><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u7236\u7EC4\u4EF6.vue</span>
<span class="token operator">&lt;</span>Children name<span class="token operator">=</span><span class="token string">&quot;wenl&quot;</span> <span class="token operator">:</span>age<span class="token operator">=</span><span class="token string">&quot;123&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Children<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li>\u975Esetup\u8BED\u6CD5\u7CD6 (<code>\u6B64\u65F6Prop\u9A8C\u8BC1\u65B9\u5F0F\u4E0Evue2\u4E00\u6837</code>)\u2003<a href="https://v3.cn.vuejs.org/guide/component-props.html#prop-%E9%AA%8C%E8%AF%81" target="_blank" rel="noopener noreferrer">\u70B9\u51FB\u8DF3\u8F6C\u793A\u4F8B</a></li></ol><div class="language-js line-numbers-mode"><pre><code>  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//\u8FD9\u4E00\u6B65\u662F\u5FC5\u5199\u7684 \u4E0D\u7136setup\u83B7\u53D6\u4E0D\u5230title</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">//wenl</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">//123</span>
  <span class="token punctuation">}</span> 
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre><code>  <span class="token comment">// \u4F46\u662F\uFF0C\u56E0\u4E3A props \u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u4E0D\u80FD\u4F7F\u7528 ES6 \u89E3\u6784\uFF0C\u5B83\u4F1A\u6D88\u9664 prop \u7684\u54CD\u5E94\u6027\u3002</span>
  <span class="token comment">// \u5982\u679C\u9700\u8981\u89E3\u6784 prop\uFF0C\u53EF\u4EE5\u5728 setup \u51FD\u6570\u4E2D\u4F7F\u7528 toRefs \u51FD\u6570\u6765\u5B8C\u6210\u6B64\u64CD\u4F5C\uFF1A</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span>age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">//wenl</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">//123</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol start="2"><li>setup\u8BED\u6CD5\u7CD6 \uFF08\u4F8B\u5B50\u9644\u68C0\u9A8C\u65B9\u5F0F\u{1F447}\uFF09</li></ol><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
  <span class="token comment">// \u68C0\u9A8C\u65B9\u5F0F</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span> <span class="token comment">//\u53C2\u6570\u7C7B\u578B</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4\u503C</span>
    <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u662F\u5426\u5FC5\u4F20</span>
    <span class="token function-variable function">validator</span><span class="token operator">:</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">//\u81EA\u5B9A\u4E49\u6821\u9A8C\u65B9\u5F0F</span>
      <span class="token keyword">return</span> value <span class="token operator">&gt;=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//wenl</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//age</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u540C\u6837\u4E0D\u80FD\u4F7F\u7528 ES6 \u89E3\u6784\uFF0C\u5B83\u4F1A\u6D88\u9664 prop \u7684\u54CD\u5E94\u6027\u3002</span>
<span class="token comment">// \u4F7F\u7528 toRefs \u51FD\u6570\u6765\u5B8C\u6210\u6B64\u64CD\u4F5C\uFF1A</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span>age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>title<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">//wenl</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token comment">//123</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><strong>\u4FDD\u8BC1prop\u662F\u5355\u5411\u6570\u636E\u6D41</strong></li></ul><blockquote><p>\u6BCF\u6B21\u7236\u7EA7\u7EC4\u4EF6\u53D1\u751F\u53D8\u66F4\u65F6\uFF0C\u5B50\u7EC4\u4EF6\u4E2D\u6240\u6709\u7684 prop \u90FD\u5C06\u4F1A\u5237\u65B0\u4E3A\u6700\u65B0\u7684\u503C\u3002\u8FD9\u610F\u5473\u7740<code>\u4E0D\u5E94\u8BE5\u5728\u4E00\u4E2A\u5B50\u7EC4\u4EF6\u5185\u90E8\u6539\u53D8 prop</code>\u3002<br> \u9632\u6B62\u4ECE\u5B50\u7EC4\u4EF6\u610F\u5916\u53D8\u66F4\u7236\u7EA7\u7EC4\u4EF6\u7684\u72B6\u6001\u4F1A\u91C7\u53D6\u4EE5\u4E0B\u4E24\u79CD\u65B9\u5F0F</p></blockquote><div class="language-js line-numbers-mode"><pre><code>  <span class="token comment">// \u7B2C\u4E00\u79CD</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> myName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
    <span class="token keyword">const</span> myAge <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> 
  <span class="token comment">// \u7B2C\u4E8C\u79CD \u5982\u679C\u6539\u503C\u9700\u8981\u4E00\u4E9B\u5904\u7406 \u53EF\u4EE5\u5229\u7528\u8BA1\u7B97\u5C5E\u6027 </span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">myName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_2-context" tabindex="-1">2. context</h2><ul><li>context \u91CC\u9762\u6709\u56DB\u4E2A\u5C5E\u6027 attrs, slots, emit, expose</li><li>context \u662F\u4E00\u4E2A\u666E\u901A\u7684 JavaScript \u5BF9\u8C61\uFF0C\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5B83\u4E0D\u662F\u54CD\u5E94\u5F0F\u7684\uFF0C\u8FD9\u610F\u5473\u7740\u4F60\u53EF\u4EE5\u5B89\u5168\u5730\u5BF9 context \u4F7F\u7528 ES6 \u89E3\u6784\u3002</li></ul><div class="language-js line-numbers-mode"><pre><code>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Attribute (\u975E\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u7B49\u540C\u4E8E $attrs)</span>
      <span class="token comment">// attrs: vue2.x \u7684this.$attrs..\u5C31\u662F\u7EC4\u4EF6\u672C\u8EAB\u6302\u8F7D\u7684\u5C5E\u6027.</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span>

      <span class="token comment">// slots: vue2.x \u7684 this.$slots..\u8BB0\u5F55\u63D2\u69FD\u7684\u4FE1\u606F.</span>
      <span class="token comment">// \u63D2\u69FD (\u975E\u54CD\u5E94\u5F0F\u5BF9\u8C61\uFF0C\u7B49\u540C\u4E8E $slots)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>slots<span class="token punctuation">)</span>

      <span class="token comment">// emit: \u5C31\u662F vue2.x \u7684 this.$emit....\u7528\u6765\u89E6\u53D1\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5</span>
      <span class="token comment">// \u89E6\u53D1\u4E8B\u4EF6 (\u65B9\u6CD5\uFF0C\u7B49\u540C\u4E8E $emit)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>emit<span class="token punctuation">)</span>
      
      <span class="token comment">// expose: \u7C7B\u4F3C\u4E8E setup \u4E2D\u7684 return{}.. \u5728\u4F7F\u7528\u6A21\u677F\u6E32\u67D3\u51FD\u6570\u540E,return \u88AB\u5360\u7528 \u5C31\u9700\u8981\u4F7F\u7528 expose \u5C06\u5C5E\u6027\u66B4\u9732\u51FA\u53BB</span>
      <span class="token comment">// \u66B4\u9732\u516C\u5171 property (\u51FD\u6570)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>expose<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="emit-\u5E38\u7528" tabindex="-1">emit(\u5E38\u7528)</h3><ul><li>\u7236\u7EC4\u4EF6\u53EF\u4EE5\u901A\u8FC7\u81EA\u5B9A\u4E49\u5C5E\u6027\u7ED9\u5B50\u7EC4\u4EF6\u4F20\u503C\uFF0C\u5B50\u7EC4\u4EF6\u901A\u8FC7props\u5C5E\u6027\u76D1\u542C\u7236\u5143\u7D20\u4F20\u8FC7\u6765\u7684\u6570\u636E</li><li>\u5B50\u7EC4\u4EF6\u53EF\u4EE5\u4F7F\u7528<code>$emit</code>\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5\u5E76\u4F20\u9012\u6570\u636E</li><li>\u7528\u4E8E\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u51FD\u6570</li><li>\u4F20\u53C2\u65B9\u5F0F\u4E0Evue2\u4E00\u6837\u{1F447}</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// Father.vue</span>
<span class="token operator">&lt;</span>Children @methodName<span class="token operator">=</span><span class="token string">&quot;methodName&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Children<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
 <span class="token keyword">function</span> <span class="token function">methodName</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;methodName\u88AB\u8C03\u7528\u4E86&#39;</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// Children.vue</span>
<span class="token comment">// \u975E\u8BED\u6CD5\u7CD6</span>
<span class="token function">setup</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u65B9\u6CD5\u5E76\u4F20\u9012\u6570\u636E</span>
  context<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;methodName&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u6211\u662F\u53C2\u6570&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u8BED\u6CD5\u7CD6</span>
<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> defineEmits <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;methodName&#39;</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;methodName&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;\u53C2\u6570&#39;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="attrs-\u4E0D\u592A\u5E38\u7528" tabindex="-1">attrs(\u4E0D\u592A\u5E38\u7528)</h3><ul><li>\u5C5E\u6027\u53EF\u4EE5\u770B\u505A props \u7684\u52A0\u5F3A\u7248</li><li>props \u8981\u5148\u58F0\u660E\u624D\u80FD\u53D6\u503C\uFF0Cattrs \u4E0D\u7528\u5148\u58F0\u660E</li><li>props \u58F0\u660E\u8FC7\u7684\u5C5E\u6027\uFF0Cattrs \u91CC\u4E0D\u4F1A\u518D\u51FA\u73B0</li><li>props \u4E0D\u5305\u542B\u4E8B\u4EF6\uFF0Cattrs \u5305\u542B</li><li>props \u652F\u6301 string \u4EE5\u5916\u7684\u7C7B\u578B\uFF0Cattrs \u53EA\u6709 string \u7C7B\u578B</li><li>\u53EF\u4EE5\u76F4\u63A5\u8C03\u7528\u7236\u7C7B\u7684\u51FD\u6570</li></ul><p><code>Fathe.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- Fathe.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u4F20\u4E86name age \u4EE5\u53CA\u4E24\u4E2A\u51FD\u6570 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Children</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wenl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aaa<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@bbb</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bbb<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Children</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span>  Children  <span class="token keyword">from</span> <span class="token string">&quot;./components/Children.vue&quot;</span><span class="token punctuation">;</span>  
  <span class="token keyword">function</span> <span class="token function">aaa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;AAA\u51FD\u6570\u88AB\u8C03\u7528&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">bbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;BBB\u51FD\u6570\u88AB\u8C03\u7528&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><code>Children.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- Children.vue --&gt;</span>
<span class="token comment">&lt;!-- \u975E\u8BED\u6CD5\u7CD6 \u83B7\u53D6attrs--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Proxy {name: &#39;wenl&#39;, __vInternal: 1, onClick: \u0192, onBbb: \u0192}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wenl</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined \u56E0\u4E3A\u5DF2\u7ECF\u88ABprops\u58F0\u660E\u4E86 \u6240\u4EE5undefined</span>
    context<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u6210\u529F\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u51FD\u6570 \u8F93\u51FA\uFF1AAAA\u51FD\u6570\u88AB\u8C03\u7528</span>
    context<span class="token punctuation">.</span>attrs<span class="token punctuation">.</span><span class="token function">onBbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u6210\u529F\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u51FD\u6570  \u8F93\u51FA\uFF1ABBB\u51FD\u6570\u88AB\u8C03\u7528</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u8BED\u6CD5\u7CD6 \u83B7\u53D6attrs--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> useAttrs<span class="token punctuation">,</span> useSlots <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
  <span class="token keyword">const</span> attrs <span class="token operator">=</span> <span class="token function">useAttrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// wenl</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>attrs<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined \u56E0\u4E3A\u5DF2\u7ECF\u88ABprops\u58F0\u660E\u4E86 \u6240\u4EE5undefined</span>
  attrs<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u6210\u529F\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u51FD\u6570 \u8F93\u51FA\uFF1AAAA\u51FD\u6570\u88AB\u8C03\u7528</span>
  attrs<span class="token punctuation">.</span><span class="token function">onBbb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//\u6210\u529F\u8C03\u7528\u7236\u7EC4\u4EF6\u7684\u51FD\u6570  \u8F93\u51FA\uFF1ABBB\u51FD\u6570\u88AB\u8C03\u7528</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="slots-\u4E0D\u592A\u5E38\u7528" tabindex="-1">slots (\u4E0D\u592A\u5E38\u7528)</h3><ul><li>\u5B9E\u9645\u6536\u5230\u7684\u662F\u4E00\u4E9B\u4F20\u5165\u7EC4\u4EF6\u7684\u63D2\u69FD\u7684\u4E00\u4E9B\u4FE1\u606F</li><li><a href="./4_\u63D2\u69FDslots.html">\u5177\u4F53\u4F7F\u7528</a></li></ul><h3 id="expose-\u4E0D\u592A\u5E38\u7528" tabindex="-1">expose (\u4E0D\u592A\u5E38\u7528)</h3><p><code>\u5F85\u8865\u5145</code></p>`,34),o=[e];function c(l,u,r,i,k,m){return a(),s("div",null,o)}var d=n(t,[["render",c]]);export{g as __pageData,d as default};
