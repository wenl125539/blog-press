<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¸€. æ„å»ºé¡¹ç›® | ME</title>
    <meta name="description" content="Life is short, Keep it simple.">
    <link rel="stylesheet" href="/blog-press/assets/style.d70481fc.css">
    <link rel="modulepreload" href="/blog-press/assets/app.a5b2d336.js">
    <link rel="modulepreload" href="/blog-press/assets/blog_06.1_vite_1_vite.md.50f872d3.lean.js">
    
    <link rel="icon" type="image/svg+xml" href="/a.png">
  <meta name="twitter:title" content="ä¸€. æ„å»ºé¡¹ç›® | ME">
  <meta property="og:title" content="ä¸€. æ„å»ºé¡¹ç›® | ME">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/blog-press/" aria-label="ME, back to home" data-v-675d8756 data-v-cc01ef16><img class="logo" src="/blog-press/a.png" alt="Logo" data-v-cc01ef16> ME</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/blog/00_Blog" data-v-b8818f8c>ç¬”è®° <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/plugin/00_æ’ä»¶" data-v-b8818f8c>æ’ä»¶ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/software/00_è½¯ä»¶" data-v-b8818f8c>è½¯ä»¶ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/play/00_play" data-v-b8818f8c>è®©æˆ‘çœ‹çœ‹ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/go/00_go" data-v-b8818f8c>Go <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://114.132.122.36/desk/desktop" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>tabs <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/blog/00_Blog" data-v-b8818f8c>ç¬”è®° <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/plugin/00_æ’ä»¶" data-v-b8818f8c>æ’ä»¶ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/software/00_è½¯ä»¶" data-v-b8818f8c>è½¯ä»¶ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/play/00_play" data-v-b8818f8c>è®©æˆ‘çœ‹çœ‹ <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/blog-press/go/00_go" data-v-b8818f8c>Go <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item isExternal" href="https://114.132.122.36/desk/desktop" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>tabs <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/00_Blog">Blog</a><!----></li><li class="sidebar-link"><p class="sidebar-link-item">js</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/0_æ•°ç»„æ–¹æ³•åˆé›†">æ•°ç»„æ–¹æ³•åˆé›†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/00_git">git</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/1_nullå’Œundefined">nullå’Œundefined</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/2_Objectisä¸ç­‰äºå·åŒºåˆ«">Objectisä¸ç­‰äºå·åŒºåˆ«</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/3_thisæŒ‡å‘">thisæŒ‡å‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/4_é˜²æŠ–å’ŒèŠ‚æµ">é˜²æŠ–å’ŒèŠ‚æµ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/5_é—­åŒ…">é—­åŒ…</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/6_Call() apply() bind()åŒºåˆ«">Call() apply() bind()åŒºåˆ«</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/7_å‰ç«¯å‚¨å­˜">å‰ç«¯å‚¨å­˜</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/01_js/9_ES6">ES6</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vue</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue/5_è·¯ç”±æ¨¡å¼">è·¯ç”±æ¨¡å¼</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue/vuex">vuex</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vue3</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/1_ref">ref</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/2_reactive">reactive</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/3_setupçš„å‚æ•°">setupçš„å‚æ•°</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/4_æ’æ§½slots">æ’æ§½slots</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/pinia">pinia</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/02_vue3/åŒå‘ç»‘å®šåŸç†">åŒå‘ç»‘å®šåŸç†</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">reactjs</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/0_reactä¸vueå¯¹æ¯”">reactä¸vueå¯¹æ¯”</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/1_reactèµ·æ­¥">reactèµ·æ­¥</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/2_reactç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§">reactç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/ReactåŸºç¡€">ReactåŸºç¡€</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/reacté…ç½®ä»£ç†">reacté…ç½®ä»£ç†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/03_reactjs/Redux">Redux</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">uniapp</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/04_uniapp/1_ç™»å½•æˆæƒ">ç™»å½•æˆæƒ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/04_uniapp/2_è·å–æ‰‹æœºå·">è·å–æ‰‹æœºå·</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">å¾®ä¿¡</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/05_å¾®ä¿¡/1_weapp">weapp</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">nuxt.js</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/06_nuxt.js/00_nuxt">nuxt</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">vite</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/blog-press/blog/06.1_vite/1_vite">vite</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#ä¸€-æ„å»ºé¡¹ç›®">ä¸€. æ„å»ºé¡¹ç›®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#äºŒ-å¤šç¯å¢ƒé…ç½®">äºŒ. å¤šç¯å¢ƒé…ç½®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#ä¸‰-åŸºæœ¬é…ç½®">ä¸‰. åŸºæœ¬é…ç½®</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-é€‰é¡¹é…ç½®">1. é€‰é¡¹é…ç½®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-è§£æç›¸å…³ã€åˆ«åã€‘">2. è§£æç›¸å…³ã€åˆ«åã€‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_3-cssç›¸å…³ã€å¸¸ç”¨é…ç½®é¢„å¤„ç†å™¨ã€‘">3.cssç›¸å…³ã€å¸¸ç”¨é…ç½®é¢„å¤„ç†å™¨ã€‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_4-serverç›¸å…³ã€å¯åŠ¨idç«¯å£ã€ä»£ç†é…ç½®ã€‘">4. serverç›¸å…³ã€å¯åŠ¨idç«¯å£ã€ä»£ç†é…ç½®ã€‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_5-æ„å»ºç›¸å…³ã€æ‰“åŒ…ç›¸å…³ã€‘">5.æ„å»ºç›¸å…³ã€æ‰“åŒ…ç›¸å…³ã€‘</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_6-é¢„è§ˆæ„å»ºç›¸å…³">6.é¢„è§ˆæ„å»ºç›¸å…³</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#allã€æ•´ä¸ªæ–‡ä»¶ç»“æ„ã€‘">ALLã€æ•´ä¸ªæ–‡ä»¶ç»“æ„ã€‘</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">webpack</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/07_webpack/1_åŸºç¡€">åŸºç¡€</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">æœåŠ¡å™¨</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/09_æœåŠ¡å™¨/01_nginx">nginx</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/09_æœåŠ¡å™¨/02_pm2">pm2</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">css</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/10_css/0_å‚ç›´å±…ä¸­">å‚ç›´å±…ä¸­</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/10_css/02_è¾¹æ¡†">è¾¹æ¡†</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/10_css/1_äºŒä¸‰æ å¸ƒå±€">äºŒä¸‰æ å¸ƒå±€</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">a</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/01_css">css</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/02_js">js</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/03_webpack">webpack</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/04_vue">vue</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/05_react">react</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/99_a/06_é“¾æ¥">é“¾æ¥</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">å·¥å…·ç±»å°è£…</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/0_åˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬">åˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/1_æ•°æ®æ ¡éªŒ">æ•°æ®æ ¡éªŒ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/2_tools">tools</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/3_Storage">Storage</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/5_axios">axios</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/6_Cookie">Cookie</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/7_file">file</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/å·¥å…·ç±»å°è£…/webscoket">webscoket</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">æ­å»º</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/00_ä»£ç é£æ ¼çº¦æŸ">ä»£ç é£æ ¼çº¦æŸ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/01_vueå›½é™…åŒ–">vueå›½é™…åŒ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/05_vue3æ­å»ºé¡¹ç›®">vue3æ­å»ºé¡¹ç›®</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/05_å…¨å±€æ ·å¼css">å…¨å±€æ ·å¼css</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/å…¨å±€flex">å…¨å±€flex</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/blog-press/blog/æ­å»º/ç§»åŠ¨ç«¯è‡ªé€‚åº”rem">ç§»åŠ¨ç«¯è‡ªé€‚åº”rem</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h2 id="ä¸€-æ„å»ºé¡¹ç›®" tabindex="-1">ä¸€. æ„å»ºé¡¹ç›®</h2><p><a href="https://cn.vitejs.dev/guide/#scaffolding-your-first-vite-project" target="_blank" rel="noopener noreferrer">æ„å»ºé¡¹ç›®å®˜ç½‘</a></p><div class="language-js line-numbers-mode"><pre><code># æŒ‰ç…§æç¤º
yarn create vite
pnpm create vite

# ä½¿ç”¨çš„æ¨¡æ¿
yarn create vite é¡¹ç›®å <span class="token operator">--</span>template vue
pnpm create vite é¡¹ç›®å <span class="token operator">--</span>template vue
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="äºŒ-å¤šç¯å¢ƒé…ç½®" tabindex="-1">äºŒ. å¤šç¯å¢ƒé…ç½®</h2><ul><li><a href="https://cn.vitejs.dev/guide/env-and-mode.html#env-files" target="_blank" rel="noopener noreferrer">å¤šç¯å¢ƒé…ç½®å®˜ç½‘</a></li></ul><p>.env</p><blockquote><p>åœ¨æ ¹ç›®å½•åˆ›å»º .env | .env.XXXæ–‡ä»¶<br> åœ¨é¡¹ç›®æ‰§è¡Œ npm run dev çš„æ—¶å€™viteä¼šè‡ªåŠ¨å»è¯»å–.env.developmentæ–‡ä»¶é‡Œé¢çš„é…ç½®<br> æ‰§è¡Œnpm runbuildè¿›è¡Œæ‰“åŒ…ä¹‹åä¹Ÿä¼šè‡ªåŠ¨å°†.env.productionçš„å†…å®¹æ‰“åŒ…è¿›å»<br> è¿™é‡Œæ³¨æ„çš„æ˜¯ï¼Œå¦‚æœä½ æƒ³è¿›å…¥é¢„å‘å¸ƒæ¨¡å¼çš„è¯éœ€è¦åœ¨æ‰“åŒ…çš„æ—¶å€™è¿›è¡Œmodeé…ç½®:npm run build --mode staging</p></blockquote><div class="language-js line-numbers-mode"><pre><code>å…¬å…±çš„ <span class="token punctuation">.</span>env  
å¼€å‘ç¯å¢ƒ <span class="token punctuation">.</span>env<span class="token punctuation">.</span>development  
ç”Ÿäº§ç¯å¢ƒ <span class="token punctuation">.</span>env<span class="token punctuation">.</span>production  
é¢„å‘å¸ƒç¯å¢ƒ <span class="token punctuation">.</span>env<span class="token punctuation">.</span>staging  
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>vite.config.js|ts</p><blockquote><p>commandï¼šæ ¹æ®è¿è¡Œçš„å‘½ä»¤åŒºåˆ†é…ç½®ï¼Œserveä¸ºå¼€å‘ç¯å¢ƒï¼Œå¦åˆ™ä¸ºbuildç”Ÿäº§ç¯å¢ƒ<br> modeï¼šæ ¹æ®ç¯å¢ƒåŒºåˆ†é…ç½®</p></blockquote><p><strong>è·å–ç¯å¢ƒå˜é‡çš„æ–¹å¼</strong></p><ul><li><a href="https://cn.vitejs.dev/config/#async-config" target="_blank" rel="noopener noreferrer">è·å–ç¯å¢ƒå˜é‡å®˜ç½‘</a></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// from vite.config.js</span>

<span class="token keyword">import</span>  <span class="token punctuation">{</span> UserConfig<span class="token punctuation">,</span> ConfigEnv<span class="token punctuation">,</span>loadEnv <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token comment">// https://vitejs.dev/config/</span>

<span class="token comment">// å½“å‰æ‰§è¡Œnodeå‘½ä»¤æ—¶æ–‡ä»¶å¤¹çš„åœ°å€ï¼ˆå·¥ä½œç›®å½•ï¼‰</span>
<span class="token keyword">const</span> <span class="token literal-property property">root</span><span class="token operator">:</span> string <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ğŸ‘‰ğŸ‘‰ å¦‚æœprocess æŠ¥çº¢ å®‰è£… å¯ä»¥å®‰è£… @types/node</span>
<span class="token comment">//ğŸ‘‰ğŸ‘‰ npm i --save-dev @types/node</span>
<span class="token comment">//ğŸ‘‰ğŸ‘‰pnpm add @types/node -D -S</span>


<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">//  commandï¼šæ ¹æ®è¿è¡Œçš„å‘½ä»¤åŒºåˆ†é…ç½®ï¼Œserveä¸ºå¼€å‘ç¯å¢ƒï¼Œå¦åˆ™ä¸ºbuildç”Ÿäº§ç¯å¢ƒ</span>
  <span class="token comment">//  modeï¼šæ ¹æ®ç¯å¢ƒåŒºåˆ†é…ç½®</span>
  
  <span class="token comment">// æ ¹æ®å½“å‰å·¥ä½œç›®å½•ä¸­çš„ `mode` åŠ è½½ .env æ–‡ä»¶</span>
  <span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token function">loadEnv</span><span class="token punctuation">(</span>mode<span class="token punctuation">,</span> root<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
     <span class="token comment">// vite é…ç½®...</span>
      <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p><strong>åœ¨vueé‡Œé¢ä½¿ç”¨</strong></p><div class="language-js line-numbers-mode"><pre><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_PORT</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VITE_ROUTER_HISTORY</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="ä¸‰-åŸºæœ¬é…ç½®" tabindex="-1">ä¸‰. åŸºæœ¬é…ç½®</h2><h3 id="_1-é€‰é¡¹é…ç½®" tabindex="-1">1. é€‰é¡¹é…ç½®</h3><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    root<span class="token punctuation">,</span><span class="token comment">//é»˜è®¤process.cwd(),	index.htmlæ‰€åœ¨çš„ä½ç½®,ç»å¯¹ä½ç½®æˆ–ç›¸å¯¹ä½ç½®</span>
    <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token comment">//ã€ç›¸å½“äºwebpackçš„publicPathã€‘å¼€å‘æˆ–ç”Ÿäº§ç¯å¢ƒæœåŠ¡çš„å…¬å…±åŸºç¡€è·¯å¾„ï¼ˆä¿®æ”¹äº†è®¿é—®çš„è·¯å¾„ ä»¥åŠæ‰“åŒ…åçš„èµ„æºè·¯å¾„ï¼‰</span>
    <span class="token literal-property property">define</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
      <span class="token comment">//æ¯”å¦‚è¯´ è¿™é‡Œç”¨â€œ__IS_DEV__â€å®šä¹‰æ˜¯å¦å¼€å‘ç¯å¢ƒ å¯ä¾›ä¸šåŠ¡ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ const dev = __IS_DEV__ åˆ¤æ–­å½“å‰æ˜¯å¦å¼€å‘ç¯å¢ƒ</span>
      <span class="token literal-property property">__IS_DEV__</span><span class="token operator">:</span> mode <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span> 
      <span class="token comment">// ... </span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_2-è§£æç›¸å…³ã€åˆ«åã€‘" tabindex="-1">2. è§£æç›¸å…³ã€åˆ«åã€‘</h3><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">find</span><span class="token operator">:</span> <span class="token string">&#39;@&#39;</span><span class="token punctuation">,</span>  <span class="token comment">//å­—ç¬¦ä¸²ï½œæ­£åˆ™</span>
          <span class="token literal-property property">replacement</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">find</span><span class="token operator">:</span> <span class="token string">&#39;@asset&#39;</span><span class="token punctuation">,</span>  <span class="token comment">//å­—ç¬¦ä¸²ï½œæ­£åˆ™</span>
          <span class="token literal-property property">replacement</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/assets&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_3-cssç›¸å…³ã€å¸¸ç”¨é…ç½®é¢„å¤„ç†å™¨ã€‘" tabindex="-1">3.cssç›¸å…³ã€å¸¸ç”¨é…ç½®é¢„å¤„ç†å™¨ã€‘</h3><p><strong>å®‰è£…å¯¹åº”çš„å¤„ç†å™¨</strong></p><div class="language-js line-numbers-mode"><pre><code># sass<span class="token operator">-</span>loader ã€ sass
yarn add sass<span class="token operator">-</span>loader sass <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¼•å…¥å…¨å±€scss |less æŒ‡å®šä¼ é€’ç»™ CSS é¢„å¤„ç†å™¨çš„é€‰é¡¹ã€‚</span>
        <span class="token comment">// ä½œç”¨å°±æ˜¯ä¸ç”¨æ¯ä¸ªcsséƒ½å¼•è¿›ä»¥ä¸‹æ–‡ä»¶ï¼Œå°±èƒ½å¼•ç”¨æ–‡ä»¶ä¸­çš„æ ·å¼</span>
        <span class="token literal-property property">preprocessorOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">less</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token comment">//ä½ çš„lessæ–‡ä»¶ åœ°å€</span>
            <span class="token literal-property property">additionalData</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
              @import &quot;@/assets/styles/variables.less&quot;;
              @import &quot;@/assets/styles/mixins.less&quot;;
            </span><span class="token template-punctuation string">`</span></span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">scss</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">charset</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ç¦æ­¢é¡¹ç›®scssæ·»åŠ @charset:UTF-8</span>
            <span class="token literal-property property">additionalData</span><span class="token operator">:</span> <span class="token string">&#39;@import &quot;./src/æ–‡ä»¶è·¯å¾„/XXX.scss&quot;;&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_4-serverç›¸å…³ã€å¯åŠ¨idç«¯å£ã€ä»£ç†é…ç½®ã€‘" tabindex="-1">4. serverç›¸å…³ã€å¯åŠ¨idç«¯å£ã€ä»£ç†é…ç½®ã€‘</h3><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">server</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">//æŒ‡å®šæœåŠ¡å™¨åº”è¯¥ç›‘å¬å“ªä¸ª IP åœ°å€ï¼Œ å¦‚æœå°†æ­¤è®¾ç½®ä¸º 0.0.0.0 æˆ–è€… true å°†ç›‘å¬æ‰€æœ‰åœ°å€ï¼ŒåŒ…æ‹¬å±€åŸŸç½‘å’Œå…¬ç½‘åœ°å€</span>
      <span class="token comment">// é»˜è®¤ï¼š&#39;127.0.0.1&#39;  å‘½ä»¤è®¾ç½®ï¼š--host 0.0.0.0 æˆ– --host</span>
      <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span> 
      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;3000&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æŒ‡å®šå¼€å‘æœåŠ¡å™¨ç«¯å£ã€‚æ³¨æ„ï¼šå¦‚æœç«¯å£å·²ç»è¢«ä½¿ç”¨ï¼ŒVite ä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨çš„ç«¯å£ï¼Œæ‰€ä»¥è¿™å¯èƒ½ä¸æ˜¯å¼€å‘æœåŠ¡å™¨æœ€ç»ˆç›‘å¬çš„å®é™…ç«¯å£ é»˜è®¤  ï¼š3000 | 5173</span>
      <span class="token literal-property property">strictPort</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">,</span> <span class="token comment">//&#39;è®¾ä¸ºtrueæ—¶è‹¥ç«¯å£å·²è¢«å ç”¨åˆ™ä¼šç›´æ¥é€€å‡ºï¼Œè€Œä¸æ˜¯å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£ é»˜è®¤ï¼šfalse</span>
      <span class="token literal-property property">https</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦å¼€å¯https</span>
      <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// é¡¹ç›®å¯åŠ¨å°±è‡ªåŠ¨æ‰“å¼€é¡µé¢ ã€ä¸€èˆ¬ä¸ä½œé…ç½®ã€‘ å¯ä»¥æ˜¯true | false  [å¯åŠ¨æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨]   | &#39;/public/index.html&#39; é¡¹ç›®å¯åŠ¨å°±è‡ªåŠ¨æ‰“å¼€è¿™ä¸ªindexé¡µé¢</span>
      <span class="token comment">// æœåŠ¡å™¨ä»£ç†</span>
      <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// åŒ¹é…è¯·æ±‚è·¯å¾„ï¼Œlocalhost:3000/api</span>
            <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://wenl.com&#39;</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç†çš„æ¥å£åŸŸå</span>
            <span class="token comment">// secure: false,  // å¦‚æœæ˜¯httpsæ¥å£ï¼Œéœ€è¦é…ç½®è¿™ä¸ªå‚æ•°</span>
            <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å‘æ¨¡å¼ï¼Œé»˜è®¤çš„originæ˜¯çœŸå®çš„ origin:localhost:3000 ä»£ç†æœåŠ¡ä¼šæŠŠoriginä¿®æ”¹ä¸ºç›®æ ‡åœ°å€</span>
            <span class="token comment">// ws: true, // æ˜¯å¦ä»£ç†websockets</span>
            <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_5-æ„å»ºç›¸å…³ã€æ‰“åŒ…ç›¸å…³ã€‘" tabindex="-1">5.æ„å»ºç›¸å…³ã€æ‰“åŒ…ç›¸å…³ã€‘</h3><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">build</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token comment">// target:è®¾ç½®æœ€ç»ˆæ„å»ºçš„æµè§ˆå™¨å…¼å®¹ç›®æ ‡ã€‚</span>
      <span class="token comment">// é»˜è®¤ï¼š&#39;modules&#39;	æŒ‡æ”¯æŒåŸç”Ÿ ES æ¨¡å—çš„æµè§ˆå™¨ã€‚</span>
      <span class="token comment">// è‡ªå®šä¹‰ç›®æ ‡ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª ES ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼šes2015ï¼‰ã€ä¸€ä¸ªæµè§ˆå™¨ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼šchrome58ï¼‰æˆ–æ˜¯å¤šä¸ªç›®æ ‡ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span><span class="token string">&#39;es2015&#39;</span><span class="token punctuation">,</span>
      <span class="token comment">// cssTarget:åªåœ¨é’ˆå¯¹éä¸»æµæµè§ˆå™¨æ—¶ä½¿ç”¨ã€‚ æœ€ç›´è§‚çš„ç¤ºä¾‹æ˜¯å½“ä½ è¦å…¼å®¹çš„åœºæ™¯æ˜¯å®‰å“å¾®ä¿¡ä¸­çš„ webviewã€å¯çœ‹å®˜ç½‘ä»‹ç»ã€‘</span>
      <span class="token literal-property property">outDir</span><span class="token operator">:</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºè·¯å¾„ï¼ˆç›¸å¯¹äº é¡¹ç›®æ ¹ç›®å½•). é»˜è®¤ï¼šdist</span>
      <span class="token literal-property property">assetsDir</span><span class="token operator">:</span><span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šç”Ÿæˆé™æ€èµ„æºçš„å­˜æ”¾è·¯å¾„ï¼ˆç›¸å¯¹äº build.outDirï¼‰ é»˜è®¤ï¼šassets</span>
      <span class="token literal-property property">assetsInlineLimit</span><span class="token operator">:</span><span class="token string">&#39;4096&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å°äºæ­¤é˜ˆå€¼çš„å¯¼å…¥æˆ–å¼•ç”¨èµ„æºå°†å†…è”ä¸º base64 ç¼–ç ï¼Œä»¥é¿å…é¢å¤–çš„ http è¯·æ±‚ã€‚</span>
      <span class="token literal-property property">cssCodeSplit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// cssä»£ç åˆ†å‰²   true  åœ¨å¼‚æ­¥ chunk ä¸­å¯¼å…¥çš„ CSS å°†å†…è”åˆ°å¼‚æ­¥ chunk æœ¬èº«ï¼Œå¹¶åœ¨å…¶è¢«åŠ è½½æ—¶æ’å…¥ã€‚ | false æ•´ä¸ªé¡¹ç›®ä¸­çš„æ‰€æœ‰ CSS å°†è¢«æå–åˆ°ä¸€ä¸ª CSS æ–‡ä»¶ä¸­</span>
      <span class="token literal-property property">cssTarget</span><span class="token operator">:</span> <span class="token string">&#39;modules&#39;</span><span class="token punctuation">,</span><span class="token comment">// é»˜è®¤å€¼ï¼š ä¸ build.target ä¸€è‡´   è‡ªå®šä¹‰è§„åˆ™ä¹Ÿæ˜¯</span>
      <span class="token literal-property property">chunkSizeWarningLimit</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token comment">// chunk å¤§å°è­¦å‘Šçš„é™åˆ¶ï¼ˆä»¥ kbs ä¸ºå•ä½ï¼‰ é»˜è®¤500</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_6-é¢„è§ˆæ„å»ºç›¸å…³" tabindex="-1">6.é¢„è§ˆæ„å»ºç›¸å…³</h3><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">preview</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;0.0.0.0&#39;</span><span class="token punctuation">,</span> 
        <span class="token comment">//ä¸ºå¼€å‘æœåŠ¡å™¨æŒ‡å®š ip åœ°å€ï¼Œé»˜è®¤å–server.host</span>
				<span class="token comment">// 0.0.0.0 æˆ– trueï¼šç›‘å¬æ‰€æœ‰åœ°å€ï¼ŒåŒ…æ‹¬å±€åŸŸç½‘å’Œå…¬å…±åœ°å€ã€‚</span>
				<span class="token comment">// é€šè¿‡å‘½ä»¤ï¼š--host 0.0.0.0 æˆ– --host</span>
				portï¼š<span class="token string">&#39;4173&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æŒ‡å®šå¼€å‘æœåŠ¡å™¨ç«¯å£ é»˜è®¤ï¼š4173</span>
				<span class="token comment">// strictPortï¼šé»˜è®¤å–server.strictPort</span>
				<span class="token comment">// httpsï¼šé»˜è®¤å–server.https</span>
				<span class="token comment">// openï¼šé»˜è®¤å–server.openy</span>
				<span class="token comment">// proxyï¼šé»˜è®¤å–server.proxy</span>
				<span class="token comment">// corsï¼šé»˜è®¤å–server.cors</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="allã€æ•´ä¸ªæ–‡ä»¶ç»“æ„ã€‘" tabindex="-1">ALLã€æ•´ä¸ªæ–‡ä»¶ç»“æ„ã€‘</h2><ul><li><a href="https://cn.vitejs.dev/config/" target="_blank" rel="noopener noreferrer">å®˜ç½‘</a></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span>  <span class="token punctuation">{</span> UserConfig<span class="token punctuation">,</span> ConfigEnv<span class="token punctuation">,</span>loadEnv <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token literal-property property">root</span><span class="token operator">:</span> string <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> command<span class="token punctuation">,</span> mode <span class="token punctuation">}</span><span class="token operator">:</span> ConfigEnv<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">UserConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> env <span class="token operator">=</span> <span class="token function">loadEnv</span><span class="token punctuation">(</span>mode<span class="token punctuation">,</span> root<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ é€‰é¡¹é…ç½® start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
    root<span class="token punctuation">,</span><span class="token comment">//é»˜è®¤process.cwd(),	index.htmlæ‰€åœ¨çš„ä½ç½®,ç»å¯¹ä½ç½®æˆ–ç›¸å¯¹ä½ç½®</span>

    <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span> <span class="token comment">//ã€ç›¸å½“äºwebpackçš„publicPathã€‘å¼€å‘æˆ–ç”Ÿäº§ç¯å¢ƒæœåŠ¡çš„å…¬å…±åŸºç¡€è·¯å¾„ï¼ˆä¿®æ”¹äº†è®¿é—®çš„è·¯å¾„ ä»¥åŠæ‰“åŒ…åçš„èµ„æºè·¯å¾„ï¼‰</span>
      <span class="token comment">// eg:</span>
        <span class="token comment">// base: &#39;/&#39;, æœ¬åœ°è®¿é—®è·¯å¾„ä¸º http://127.0.0.1:ç«¯å£/  æ‰“åŒ…èµ„æºè·¯å¾„ä¸º: /assets/index.c16bd851.css</span>
        <span class="token comment">// base: &#39;/wenl&#39;, æœ¬åœ°è®¿é—®è·¯å¾„ä¸º http://127.0.0.1:ç«¯å£/wenl   æ‰“åŒ…èµ„æºè·¯å¾„ä¸º: wenl/assets/index.c16bd851.css</span>
        <span class="token comment">// base: &#39;https://wenl.com/&#39;, æœ¬åœ°è®¿é—®è·¯å¾„ä¸º http://127.0.0.1:ç«¯å£/  æ‰“åŒ…èµ„æºè·¯å¾„ä¸º: https://wenl.com/assets/index.c16bd851.css</span>
        <span class="token comment">// é€šè¿‡å‘½ä»¤æŒ‡å®šï¼švite build --base=/my/public/path/</span>
        <span class="token comment">// ä»£ç ä¸­è·å–baseï¼šimport.<wbr>meta.env.BASE_URLå…¨å±€å˜é‡åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼ŒåŸæ ·å‡ºç°(ä¾‹å¦‚import.<wbr>meta.env[&#39;BASE_URL&#39;]æ˜¯æ— æ•ˆçš„)ï¼Œå¯ä»¥ç”¨base:env.VITE_PUBLIC_PATH</span>
    

    <span class="token comment">// å®šä¹‰å…¨å±€å¸¸é‡æ›¿æ¢æ–¹å¼ã€‚å…¶ä¸­æ¯é¡¹åœ¨å¼€å‘ç¯å¢ƒä¸‹ä¼šè¢«å®šä¹‰åœ¨å…¨å±€ï¼Œè€Œåœ¨æ„å»ºæ—¶è¢«é™æ€æ›¿æ¢</span>
    <span class="token comment">// ã€ç»™å…¨å±€å®šä¹‰ä¸€ä¸ªæ„å»ºæ—¶å€™å°±å·²ç»å¯ä»¥ç¡®å®šçš„å¸¸é‡ï¼Œæ¯”å¦‚å½“å‰è¿è¡Œå‘ç¯å¢ƒ __IS_DEV__  æ„å»ºæ‰“åŒ…æ—¶é—´ __BUILD_TIME__ ã€‘</span>
    <span class="token comment">// ä¸šåŠ¡ä¸­å¯ä»¥ç›´æ¥è·å–åˆ°è¿™é‡Œè®¾ç½®å¥½çš„å€¼  **.vueæ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨  const dev = __IS_DEV__</span>
    <span class="token comment">// å¦‚æœ vueæ–‡ä»¶ä¸­ä½¿ç”¨__IS_DEV__ æŠ¥çº¢ï¼ˆä¸å½±å“è¿è¡Œï¼‰ å¯ä»¥å†srcç›®å½•ä¸‹çš„ env.d.ts æˆ– vite-env.d.ts æ·»åŠ å±æ€§å£°æ˜ declare const __IS_DEV__: boolean</span>
    <span class="token literal-property property">define</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
      <span class="token comment">//æ¯”å¦‚è¯´ è¿™é‡Œç”¨â€œ__IS_DEV__â€å®šä¹‰æ˜¯å¦å¼€å‘ç¯å¢ƒ å¯ä¾›ä¸šåŠ¡ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ const dev = __IS_DEV__ åˆ¤æ–­å½“å‰æ˜¯å¦å¼€å‘ç¯å¢ƒ</span>
      <span class="token literal-property property">__IS_DEV__</span><span class="token operator">:</span> mode <span class="token operator">===</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span> 
      <span class="token comment">// ... </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// æ’ä»¶æ•°ç»„ ã€ä¸€èˆ¬å°†è¿™ä¸ªæŠ½ç¦»å‡ºæ¥ å•ç‹¬å¤„ç†æ’ä»¶çš„ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å‡½æ•°ã€‘</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>


  <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„ å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
    <span class="token comment">//ã€ä¸€èˆ¬ä¸å†™è¿™ä¸ªã€‘ å°†ä¼šæŠŠserveå’Œbuildæ—¶çš„æ¨¡å¼éƒ½è¦†ç›–æ‰ã€‚ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ --mode é€‰é¡¹æ¥é‡å†™  </span>
    <span class="token comment">// &#39;development&#39;ï¼ˆserveï¼‰</span>
    <span class="token comment">// &#39;production&#39;ï¼ˆbuildï¼‰</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// ä½œä¸ºé™æ€èµ„æºæœåŠ¡çš„æ–‡ä»¶å¤¹ã€‚è¯¥ç›®å½•ä¸­çš„æ–‡ä»¶åœ¨å¼€å‘æœŸé—´åœ¨ / å¤„æä¾›ï¼Œå¹¶åœ¨æ„å»ºæœŸé—´å¤åˆ¶åˆ° outDir çš„æ ¹ç›®å½•ï¼Œå¹¶ä¸”å§‹ç»ˆæŒ‰åŸæ ·æä¾›æˆ–å¤åˆ¶è€Œæ— éœ€è¿›è¡Œè½¬æ¢ã€‚</span>
    <span class="token comment">// è¯¥å€¼å¯ä»¥æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºé¡¹ç›®çš„æ ¹ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚é»˜è®¤&#39;public&#39;</span>
    <span class="token comment">//ã€ä¸€èˆ¬ä¸ä½œä¿®æ”¹ï¼Œé»˜è®¤æ˜¯publicè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºä¿®æ”¹å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶å¤¹ã€‘</span>
    <span class="token literal-property property">publicDir</span><span class="token operator">:</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// å­˜å‚¨ç¼“å­˜æ–‡ä»¶çš„ç›®å½•ã€‚æ­¤ç›®å½•ä¸‹ä¼šå­˜å‚¨é¢„æ‰“åŒ…çš„ä¾èµ–é¡¹æˆ– vite ç”Ÿæˆçš„æŸäº›ç¼“å­˜æ–‡ä»¶ï¼Œä½¿ç”¨ç¼“å­˜å¯ä»¥æé«˜æ€§èƒ½ã€‚å¦‚éœ€é‡æ–°ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ --force å‘½ä»¤è¡Œé€‰é¡¹æˆ–æ‰‹åŠ¨åˆ é™¤ç›®å½•ã€‚æ­¤é€‰é¡¹çš„å€¼å¯ä»¥æ˜¯æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä»¥é¡¹ç›®æ ¹ç›®å½•ä¸ºåŸºå‡†çš„ç›¸å¯¹è·¯å¾„ã€‚å½“æ²¡æœ‰æ£€æµ‹åˆ° package.json æ—¶ï¼Œåˆ™é»˜è®¤ä¸º .viteã€‚</span>
    <span class="token comment">// 	é»˜è®¤&quot;node_modules/.vite&quot;</span>
  	<span class="token literal-property property">cacheDir</span><span class="token operator">:</span><span class="token string">&#39;node_modules/.vite&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// è§£æé¢å¤–çš„å®šä¹‰å†…ç½®typeä»¥å¤–çš„é™æ€å¯¼å…¥èµ„æº</span>
    <span class="token literal-property property">assetsInclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.gltf&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// è°ƒæ•´æ§åˆ¶å°è¾“å‡ºçš„çº§åˆ«ï¼Œé»˜è®¤ä¸º &#39;info&#39;  &#39;info&#39; | &#39;warn&#39; | &#39;error&#39; | &#39;silent&#39;</span>
    <span class="token literal-property property">logLevel</span><span class="token operator">:</span> <span class="token string">&#39;info&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// è®¾ä¸º false å¯ä»¥é¿å… Vite æ¸…å±è€Œé”™è¿‡åœ¨ç»ˆç«¯ä¸­æ‰“å°æŸäº›å…³é”®ä¿¡æ¯ã€‚å‘½ä»¤è¡Œæ¨¡å¼ä¸‹å¯ä»¥é€šè¿‡ --clearScreen false è®¾ç½®ã€‚</span>
    <span class="token literal-property property">clearScreen</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ç”¨äºåŠ è½½ .env æ–‡ä»¶çš„ç›®å½•ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹äºé¡¹ç›®æ ¹çš„è·¯å¾„ é»˜è®¤ï¼šæ ¹è·¯å¾„</span>
    <span class="token literal-property property">envDir</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// è‡ªå®šä¹‰ç¯å¢ƒå˜é‡å‰ç¼€ï¼Œä»¥ envPrefix å¼€å¤´çš„ç¯å¢ƒå˜é‡ä¼šé€šè¿‡ import.<wbr>meta.env æš´éœ²åœ¨ä½ çš„å®¢æˆ·ç«¯æºç ä¸­ é»˜è®¤&#39;VITE_&#39;</span>
    <span class="token literal-property property">envPrefix</span><span class="token operator">:</span> <span class="token string">&#39;VITE_&#39;</span>
  <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„ end å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ é€‰é¡¹é…ç½® end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>



  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ è§£æç›¸å…³ start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
    <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// resolve:è·¯å¾„åˆ«å</span>
      <span class="token comment">// å•ä¸ªåˆ«å</span>
      <span class="token comment">// alias: {&quot;åˆ«å&quot;: resolve(__dirname, &quot;æ–‡ä»¶å&quot;)}</span>
      <span class="token comment">// ä¾‹å¦‚ ï¼šalias: {&quot;@&quot;: resolve(__dirname,&quot;src&quot;)}</span>
      <span class="token comment">// å¤šä¸ªåˆ«å</span>
      <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">find</span><span class="token operator">:</span> <span class="token string">&#39;@&#39;</span><span class="token punctuation">,</span>  <span class="token comment">//å­—ç¬¦ä¸²ï½œæ­£åˆ™</span>
          <span class="token literal-property property">replacement</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">find</span><span class="token operator">:</span> <span class="token string">&#39;@asset&#39;</span><span class="token punctuation">,</span>  <span class="token comment">//å­—ç¬¦ä¸²ï½œæ­£åˆ™</span>
          <span class="token literal-property property">replacement</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/assets&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„ start å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
    <span class="token comment">// dedupe:ä½¿ç”¨æ­¤é€‰é¡¹å¼ºåˆ¶ Vite å§‹ç»ˆå°†åˆ—å‡ºçš„ä¾èµ–é¡¹è§£æä¸ºåŒä¸€å‰¯æœ¬æ¯”å¦‚å½“å®‰è£…äº†ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„ä¾èµ–ï¼Œå¦‚vue2å’Œvue3ï¼Œé€šè¿‡è¿™ä¸ªå£°æ˜æœ€ç»ˆå¼•å…¥çš„ç‰ˆæœ¬[]</span>

    <span class="token comment">// condition:æƒ…æ™¯å¯¼å‡º[{&quot;exports&quot;: {&quot;.&quot;: {&quot;import&quot;: &quot;./index.esm.js&quot;,&quot;require&quot;: &quot;./index.cjs.js&quot;}}}]</span>

    <span class="token comment">// mainFieldsï¼šæ ¹æ®package.jsonä¸­çš„å­—æ®µï¼Œåœ¨ä¸åŒç¯å¢ƒä¸­å¯¼å…¥åº“çš„å…¥å£æ–‡ä»¶ä½ç½® importå¼•å…¥çš„æ–‡ä»¶å¯¹åº”moduleä¸­çš„è·¯å¾„,  </span>
    <span class="token comment">// requireå¼•å…¥çš„æ–‡ä»¶å¯¹åº”mainä¸­çš„è·¯å¾„ é»˜è®¤ï¼š[&#39;module&#39;, &#39;jsnext:main&#39;, &#39;jsnext&#39;,&#39;main&#39;]</span>

	  <span class="token comment">// preserveSymlinksï¼šå¯ç”¨æ­¤é€‰é¡¹ä¼šä½¿ Vite é€šè¿‡åŸå§‹æ–‡ä»¶è·¯å¾„ï¼ˆå³ä¸è·Ÿéšç¬¦å·é“¾æ¥çš„è·¯å¾„ï¼‰è€Œä¸æ˜¯çœŸæ­£çš„æ–‡ä»¶è·¯å¾„ï¼ˆå³è·Ÿéšç¬¦å·é“¾æ¥åçš„è·¯å¾„ï¼‰ç¡®å®šæ–‡ä»¶èº«ä»½é»˜è®¤ï¼šfalse</span>
    <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„ end å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ è§£æç›¸å…³ end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>


  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ cssç›¸å…³ start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// modules åŠŸèƒ½ç±»ä¼¼ scoped  css moduleå‰æœŸè¿›è¡Œä¸éº»çƒ¦çš„é…ç½®ï¼Œå®ç°çš„æ•ˆæœæ¯”scoped cssæ›´ä¼˜</span>
        <span class="token literal-property property">modules</span><span class="token operator">:</span>é…ç½® <span class="token constant">CSS</span> modules çš„è¡Œä¸ºã€‚é€‰é¡¹å°†è¢«ä¼ é€’ç»™ postcss<span class="token operator">-</span>modulesã€‚

        <span class="token comment">// Sassç­‰é¢„ç¼–è¯‘å™¨æ˜¯æ–°å®šä¹‰äº†ä¸€ç§æ¨¡æ¿è¯­è¨€ï¼Œç„¶åå°†å…¶è½¬åŒ–ä¸ºcssçš„è¯ï¼ŒPostCSSåˆ™æ˜¯æ›´çº¯ç²¹åœ°å¯¹cssæœ¬èº«åšè½¬æ¢ã€‚</span>
        <span class="token comment">// ä¸€èˆ¬é…åˆä»¥ä¸‹æ’ä»¶ä½¿ç”¨</span>
        <span class="token comment">// postcss-pxtorem ä¸€æ¬¾ postcss æ’ä»¶ï¼Œç”¨äºå°†å•ä½è½¬åŒ–ä¸º rem</span>
        <span class="token comment">// lib-flexible ç”¨äºè®¾ç½® rem åŸºå‡†å€¼</span>
        <span class="token literal-property property">postcss</span><span class="token operator">:</span>å†…è”çš„ PostCSS é…ç½®ï¼ˆæ ¼å¼åŒ postcss<span class="token punctuation">.</span>config<span class="token punctuation">.</span>jsï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªï¼ˆé»˜è®¤åŸºäºé¡¹ç›®æ ¹ç›®å½•çš„ï¼‰è‡ªå®šä¹‰çš„ PostCSS é…ç½®è·¯å¾„

        <span class="token comment">// å¼•å…¥å…¨å±€scss |lessæ ·å¼æ–‡ä»¶  æŒ‡å®šä¼ é€’ç»™ CSS é¢„å¤„ç†å™¨çš„é€‰é¡¹ã€‚</span>
        <span class="token literal-property property">preprocessorOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">less</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ cssç›¸å…³ end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>


  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ serverç›¸å…³ start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
  <span class="token literal-property property">server</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token comment">//æŒ‡å®šæœåŠ¡å™¨åº”è¯¥ç›‘å¬å“ªä¸ª IP åœ°å€ï¼Œ å¦‚æœå°†æ­¤è®¾ç½®ä¸º 0.0.0.0 æˆ–è€… true å°†ç›‘å¬æ‰€æœ‰åœ°å€ï¼ŒåŒ…æ‹¬å±€åŸŸç½‘å’Œå…¬ç½‘åœ°å€</span>
    <span class="token comment">// é»˜è®¤ï¼š&#39;127.0.0.1&#39;  å‘½ä»¤è®¾ç½®ï¼š--host 0.0.0.0 æˆ– --host</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&#39;3000&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æŒ‡å®šå¼€å‘æœåŠ¡å™¨ç«¯å£ã€‚æ³¨æ„ï¼šå¦‚æœç«¯å£å·²ç»è¢«ä½¿ç”¨ï¼ŒVite ä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨çš„ç«¯å£ï¼Œæ‰€ä»¥è¿™å¯èƒ½ä¸æ˜¯å¼€å‘æœåŠ¡å™¨æœ€ç»ˆç›‘å¬çš„å®é™…ç«¯å£ é»˜è®¤  ï¼š3000 | 5173</span>
    <span class="token literal-property property">strictPort</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">,</span> <span class="token comment">//&#39;è®¾ä¸ºtrueæ—¶è‹¥ç«¯å£å·²è¢«å ç”¨åˆ™ä¼šç›´æ¥é€€å‡ºï¼Œè€Œä¸æ˜¯å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£ é»˜è®¤ï¼šfalse</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦å¼€å¯https</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">false</span>  <span class="token comment">// é¡¹ç›®å¯åŠ¨å°±è‡ªåŠ¨æ‰“å¼€é¡µé¢ ã€ä¸€èˆ¬ä¸ä½œé…ç½®ã€‘ å¯ä»¥æ˜¯true | false  [å¯åŠ¨æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨]   | &#39;/public/index.html&#39; é¡¹ç›®å¯åŠ¨å°±è‡ªåŠ¨æ‰“å¼€è¿™ä¸ªindexé¡µé¢</span>
    <span class="token comment">// æœåŠ¡å™¨ä»£ç†</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// åŒ¹é…è¯·æ±‚è·¯å¾„ï¼Œlocalhost:3000/api</span>
          <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://wenl.com&#39;</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç†çš„æ¥å£åŸŸå</span>
          <span class="token comment">// secure: false,  // å¦‚æœæ˜¯httpsæ¥å£ï¼Œéœ€è¦é…ç½®è¿™ä¸ªå‚æ•°</span>
          <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å‘æ¨¡å¼ï¼Œé»˜è®¤çš„originæ˜¯çœŸå®çš„ origin:localhost:3000 ä»£ç†æœåŠ¡ä¼šæŠŠoriginä¿®æ”¹ä¸ºç›®æ ‡åœ°å€</span>
           <span class="token comment">// ws: true, // æ˜¯å¦ä»£ç†websockets</span>
          <span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å…¶ä»–æ›´å¤šä¸å¸¸ç”¨é…ç½® å®˜ç½‘æŸ¥çœ‹</span>
    <span class="token comment">// corsã€forceã€hmrã€middlewareMode...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ serverç›¸å…³ end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>


  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ optimizeDepsä¾èµ–ä¼˜åŒ–ç›¸å…³ start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>

    <span class="token literal-property property">optimizeDeps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// include é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸åœ¨ node_modules ä¸­çš„ï¼Œé“¾æ¥çš„åŒ…ä¸ä¼šè¢«é¢„æ„å»ºã€‚ä½¿ç”¨æ­¤é€‰é¡¹å¯å¼ºåˆ¶é¢„æ„å»ºé“¾æ¥çš„åŒ…ã€‚</span>
      <span class="token comment">// åº”ç”¨åœºæ™¯ï¼šä¸€äº›ç¬¬ä¸‰æ–¹æ’ä»¶ä¸­çš„ä¾èµ–ä¸æ˜¯node_modulesä¸­çš„å¹¶ä¸”ä¹Ÿä¸æ˜¯es moduleçš„æ ¼å¼</span>
      <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;pinia&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vue-i18n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lodash-es&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@vueuse/core&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dayjs&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">//exclude: è¢«watchä¸­æ‰‹åŠ¨è®¾ç½®ç›‘å¬çš„åŒ…å¿…é¡»è¢«æ’é™¤åœ¨ä¼˜åŒ–ä¹‹å¤–ï¼Œä»¥ä¾¿å®ƒèƒ½å‡ºç°åœ¨ä¾èµ–å…³ç³»å›¾ä¸­å¹¶è§¦å‘çƒ­æ›´æ–°</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„  å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
      	<span class="token comment">// entriesï¼šä¾èµ–å…¥å£ç‚¹</span>
				<span class="token comment">// 	é»˜è®¤æƒ…å†µä¸‹ï¼ŒVite ä¼šæŠ“å–ä½ çš„ index.html æ¥æ£€æµ‹éœ€è¦é¢„æ„å»ºçš„ä¾èµ–é¡¹</span>
				<span class="token comment">// 	å¦‚æœæŒ‡å®šäº† build.rollupOptions.inputï¼ŒVite å°†è½¬è€Œå»æŠ“å–è¿™äº›å…¥å£ç‚¹</span>
				<span class="token comment">// 	string | string[]ï¼šæŒ‡å®šè‡ªå®šä¹‰æ¡ç›®ï¼Œè¯¥å€¼éœ€è¦éµå¾ª fast-glob æ¨¡å¼</span>

        <span class="token comment">// esbuildOptionsï¼šåœ¨éƒ¨ç½²æ‰«æå’Œä¼˜åŒ–è¿‡ç¨‹ä¸­ä¼ é€’ç»™ esbuild çš„é€‰é¡¹ã€‚</span>
      <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„  å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
    <span class="token punctuation">}</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ optimizeDepsä¾èµ–ä¼˜åŒ–ç›¸å…³ end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>


  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ buildæ„å»ºç›¸å…³ start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span><span class="token punctuation">{</span>
    
    <span class="token comment">// target:è®¾ç½®æœ€ç»ˆæ„å»ºçš„æµè§ˆå™¨å…¼å®¹ç›®æ ‡ã€‚</span>
    <span class="token comment">// é»˜è®¤ï¼š&#39;modules&#39;	æŒ‡æ”¯æŒåŸç”Ÿ ES æ¨¡å—çš„æµè§ˆå™¨ã€‚</span>
    <span class="token comment">// è‡ªå®šä¹‰ç›®æ ‡ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª ES ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼šes2015ï¼‰ã€ä¸€ä¸ªæµè§ˆå™¨ç‰ˆæœ¬ï¼ˆä¾‹å¦‚ï¼šchrome58ï¼‰æˆ–æ˜¯å¤šä¸ªç›®æ ‡ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ã€‚</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span><span class="token string">&#39;es2015&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// cssTarget:åªåœ¨é’ˆå¯¹éä¸»æµæµè§ˆå™¨æ—¶ä½¿ç”¨ã€‚ æœ€ç›´è§‚çš„ç¤ºä¾‹æ˜¯å½“ä½ è¦å…¼å®¹çš„åœºæ™¯æ˜¯å®‰å“å¾®ä¿¡ä¸­çš„ webviewã€å¯çœ‹å®˜ç½‘ä»‹ç»ã€‘</span>
    
    <span class="token literal-property property">outDir</span><span class="token operator">:</span><span class="token string">&#39;dist&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºè·¯å¾„ï¼ˆç›¸å¯¹äº é¡¹ç›®æ ¹ç›®å½•). é»˜è®¤ï¼šdist</span>
    <span class="token literal-property property">assetsDir</span><span class="token operator">:</span><span class="token string">&#39;assets&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‡å®šç”Ÿæˆé™æ€èµ„æºçš„å­˜æ”¾è·¯å¾„ï¼ˆç›¸å¯¹äº build.outDirï¼‰ é»˜è®¤ï¼šassets</span>
    <span class="token literal-property property">assetsInlineLimit</span><span class="token operator">:</span><span class="token string">&#39;4096&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å°äºæ­¤é˜ˆå€¼çš„å¯¼å…¥æˆ–å¼•ç”¨èµ„æºå°†å†…è”ä¸º base64 ç¼–ç ï¼Œä»¥é¿å…é¢å¤–çš„ http è¯·æ±‚ã€‚</span>
    <span class="token literal-property property">cssCodeSplit</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// cssä»£ç åˆ†å‰²   true  åœ¨å¼‚æ­¥ chunk ä¸­å¯¼å…¥çš„ CSS å°†å†…è”åˆ°å¼‚æ­¥ chunk æœ¬èº«ï¼Œå¹¶åœ¨å…¶è¢«åŠ è½½æ—¶æ’å…¥ã€‚ | false æ•´ä¸ªé¡¹ç›®ä¸­çš„æ‰€æœ‰ CSS å°†è¢«æå–åˆ°ä¸€ä¸ª CSS æ–‡ä»¶ä¸­</span>
    <span class="token literal-property property">cssTarget</span><span class="token operator">:</span> <span class="token string">&#39;modules&#39;</span><span class="token punctuation">,</span><span class="token comment">// é»˜è®¤å€¼ï¼š ä¸ build.target ä¸€è‡´   è‡ªå®šä¹‰è§„åˆ™ä¹Ÿæ˜¯</span>
    <span class="token literal-property property">chunkSizeWarningLimit</span><span class="token operator">:</span> <span class="token number">500</span> <span class="token comment">// chunk å¤§å°è­¦å‘Šçš„é™åˆ¶ï¼ˆä»¥ kbs ä¸ºå•ä½ï¼‰ é»˜è®¤500</span>
    <span class="token comment">// ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨  ğŸ˜“ä¸å¸¸ç”¨çš„  å¯åˆ°å®˜ç½‘æŸ¥çœ‹ğŸ˜“  ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨ğŸ’¨</span>
    <span class="token comment">// polyfillModulePreload:ç”¨äºå†³å®šæ˜¯å¦è‡ªåŠ¨æ³¨å…¥ </span>
    <span class="token comment">//      module preload çš„ polyfill.trueï¼šæ­¤ polyfill ä¼šè¢«è‡ªåŠ¨æ³¨å…¥åˆ°æ¯ä¸ª index.html å…¥å£çš„ proxy æ¨¡å—ä¸­</span>
    <span class="token comment">// sourcemapï¼šæ„å»ºåæ˜¯å¦ç”Ÿæˆ source map æ–‡ä»¶</span>
		<span class="token comment">// 			é»˜è®¤ï¼šfalse</span>
		<span class="token comment">// 			trueï¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ source map æ–‡ä»¶</span>
		<span class="token comment">// 			&#39;inline&#39;ï¼šsource map å°†ä½œä¸ºä¸€ä¸ª data URI é™„åŠ åœ¨è¾“å‡ºæ–‡ä»¶ä¸­</span>
		<span class="token comment">// 			&#39;hidden&#39;ï¼šä¸ &#39;true&#39; ç›¸ä¼¼ï¼Œåªæ˜¯ bundle æ–‡ä»¶ä¸­ç›¸åº”çš„æ³¨é‡Šå°†ä¸è¢«ä¿ç•™</span>

  <span class="token punctuation">}</span>
  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ buildæ„å»ºç›¸å…³ end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>




  <span class="token comment">// ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ esbuild start ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡ğŸ‘‡</span>
    <span class="token comment">// ã€ä¸€èˆ¬è¿™ä¸ªé…ç½®ä¸ä½œä¿®æ”¹ã€‘</span>
  <span class="token comment">// esbuild æ˜¯ vite æ€§èƒ½å¿«çš„å…³é”®ã€‚esbuild åœ¨ vite ä¸­ä¸»è¦è¢«ä½¿ç”¨åœ¨ä»¥ä¸‹åœºæ™¯:</span>
  <span class="token comment">// é€šè¿‡å…¥å£åˆ†æä¾èµ–æ ‘ï¼Œæ”¶é›† node_modules ä¸­çš„ä¾èµ–ï¼Œæå‰æ‰“åŒ…å¤„ç†ï¼Œå¹¶åœ¨ç£ç›˜æŒä¹…åŒ–ç¼“å­˜å¤„ç†è¿‡åçš„æ–‡ä»¶ã€‚</span>
  <span class="token comment">// å¯¹éƒ¨åˆ†ä¸šåŠ¡æ–‡ä»¶ ä½¿ç”¨ esbuild å¤„ç†è½¬åŒ–ï¼Œæ¯”å¦‚ tsã€jsxã€tsxã€‚æ³¨æ„ js ç±»å‹æ–‡ä»¶å¹¶ä¸ä¼šè¢«å¤„ç†</span>
  <span class="token literal-property property">esbuild</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">jsxFactory</span><span class="token operator">:</span> <span class="token string">&#39;h&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">jsxFragment</span><span class="token operator">:</span> <span class="token string">&#39;Fragment&#39;</span>  <span class="token comment">// ä»¥ä¸Šä¸ºè‡ªå®šä¹‰JSX</span>
    
    <span class="token comment">// ESbuildä¼šè¢«åº”ç”¨åœ¨ tsã€jsxã€tsx æ–‡ä»¶ï¼Œä»¥ä¸‹é€‰é¡¹å¯¹è¦å¤„ç†çš„æ–‡ä»¶ç±»å‹è¿›è¡Œé…ç½®</span>
    includeï¼šstring <span class="token operator">|</span> æ­£åˆ™è¡¨è¾¾å¼ <span class="token operator">|</span> <span class="token punctuation">(</span>string <span class="token operator">|</span> æ­£åˆ™è¡¨è¾¾å¼<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    excludeï¼šstring <span class="token operator">|</span> æ­£åˆ™è¡¨è¾¾å¼ <span class="token operator">|</span> <span class="token punctuation">(</span>string <span class="token operator">|</span> æ­£åˆ™è¡¨è¾¾å¼<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    
    <span class="token literal-property property">jsxInject</span><span class="token operator">:</span>è‡ªåŠ¨ä¸ºæ¯ä¸€ä¸ªè¢« ESbuild è½¬æ¢çš„æ–‡ä»¶æ³¨å…¥å†…å®¹
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import React from &#39;react&#39;</span><span class="token template-punctuation string">`</span></span> 
  <span class="token punctuation">}</span>

  <span class="token comment">// â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸ esbuild end â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸â˜ï¸</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br></div></div><p><a href="https://blog.csdn.net/weixin_43294560/article/details/123280642" target="_blank" rel="noopener noreferrer">..</a></p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><p class="last-updated" data-v-07c132fc data-v-abce3432><span class="prefix" data-v-abce3432>ä¸Šæ¬¡æ›´æ–°:</span><span class="datetime" data-v-abce3432></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/blog-press/blog/06_nuxt.js/00_nuxt" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>nuxt</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/blog-press/blog/07_webpack/1_åŸºç¡€" data-v-38ede35f><span class="text" data-v-38ede35f>åŸºç¡€</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"blog_00_blog.md\":\"377c1d15\",\"blog_01_js_00_git.md\":\"04ebd363\",\"blog_01_js_0_æ•°ç»„æ–¹æ³•åˆé›†.md\":\"03b54487\",\"blog_01_js_1_nullå’Œundefined.md\":\"3a5eb190\",\"blog_01_js_2_objectisä¸ç­‰äºå·åŒºåˆ«.md\":\"5982394b\",\"blog_01_js_3_thisæŒ‡å‘.md\":\"47d84b6e\",\"blog_01_js_4_é˜²æŠ–å’ŒèŠ‚æµ.md\":\"7c461f5f\",\"blog_01_js_5_é—­åŒ….md\":\"7e06402f\",\"blog_01_js_6_call() apply() bind()åŒºåˆ«.md\":\"1647098c\",\"blog_01_js_7_å‰ç«¯å‚¨å­˜.md\":\"879fbb86\",\"blog_01_js_9_es6.md\":\"8846c61c\",\"blog_02_vue_5_è·¯ç”±æ¨¡å¼.md\":\"41b334bc\",\"blog_02_vue_vuex.md\":\"d163842e\",\"blog_02_vue3_1_ref.md\":\"fffb51a1\",\"blog_02_vue3_2_reactive.md\":\"8840e9d9\",\"blog_02_vue3_3_setupçš„å‚æ•°.md\":\"969ef4e7\",\"blog_02_vue3_4_æ’æ§½slots.md\":\"2ec677b3\",\"blog_02_vue3_pinia.md\":\"976f6166\",\"blog_02_vue3_åŒå‘ç»‘å®šåŸç†.md\":\"8292b422\",\"blog_03_reactjs_0_reactä¸vueå¯¹æ¯”.md\":\"7d796f39\",\"blog_03_reactjs_1_reactèµ·æ­¥.md\":\"38084ba7\",\"blog_03_reactjs_2_reactç»„ä»¶ä¸‰å¤§æ ¸å¿ƒå±æ€§.md\":\"d2a1269d\",\"blog_03_reactjs_reactåŸºç¡€.md\":\"4e37e764\",\"blog_03_reactjs_redux.md\":\"fa2039cd\",\"blog_03_reactjs_reacté…ç½®ä»£ç†.md\":\"f5ce60ee\",\"blog_04_uniapp_1_ç™»å½•æˆæƒ.md\":\"444b0989\",\"blog_04_uniapp_2_è·å–æ‰‹æœºå·.md\":\"388a2eda\",\"blog_05_å¾®ä¿¡_1_weapp.md\":\"121818c6\",\"blog_06.1_vite_1_vite.md\":\"50f872d3\",\"blog_06_nuxt.js_00_nuxt.md\":\"a21efec7\",\"blog_07_webpack_1_åŸºç¡€.md\":\"bf610854\",\"blog_09_æœåŠ¡å™¨_01_nginx.md\":\"bb7df94f\",\"blog_09_æœåŠ¡å™¨_02_pm2.md\":\"5555c689\",\"blog_10_css_02_è¾¹æ¡†.md\":\"b8ea33f7\",\"blog_10_css_0_å‚ç›´å±…ä¸­.md\":\"44f5d9ce\",\"blog_10_css_1_äºŒä¸‰æ å¸ƒå±€.md\":\"035fd7cf\",\"blog_99_a_01_css.md\":\"d2504899\",\"blog_99_a_02_js.md\":\"d420579c\",\"blog_99_a_03_webpack.md\":\"f5fdd525\",\"blog_99_a_04_vue.md\":\"b86f5234\",\"blog_99_a_05_react.md\":\"75bac6cc\",\"blog_99_a_06_é“¾æ¥.md\":\"4da8a850\",\"blog_å·¥å…·ç±»å°è£…_0_åˆ¤æ–­æµè§ˆå™¨ç‰ˆæœ¬.md\":\"867c0139\",\"blog_å·¥å…·ç±»å°è£…_1_æ•°æ®æ ¡éªŒ.md\":\"cbd33a65\",\"blog_å·¥å…·ç±»å°è£…_2_tools.md\":\"f942867c\",\"blog_å·¥å…·ç±»å°è£…_3_storage.md\":\"d36272f3\",\"blog_å·¥å…·ç±»å°è£…_5_axios.md\":\"749f7fb0\",\"blog_å·¥å…·ç±»å°è£…_6_cookie.md\":\"8ee0afbc\",\"blog_å·¥å…·ç±»å°è£…_7_file.md\":\"d806d4b5\",\"blog_å·¥å…·ç±»å°è£…_webscoket.md\":\"c42a9672\",\"blog_æ­å»º_00_ä»£ç é£æ ¼çº¦æŸ.md\":\"52074c7c\",\"blog_æ­å»º_01_vueå›½é™…åŒ–.md\":\"37bdb0ce\",\"blog_æ­å»º_05_vue3æ­å»ºé¡¹ç›®.md\":\"df305727\",\"blog_æ­å»º_05_å…¨å±€æ ·å¼css.md\":\"bfe21147\",\"blog_æ­å»º_å…¨å±€flex.md\":\"8cd4b93d\",\"blog_æ­å»º_ç§»åŠ¨ç«¯è‡ªé€‚åº”rem.md\":\"569afe4e\",\"go_00_go.md\":\"12b05b4c\",\"go_01_gin_00_viper.md\":\"565edfc5\",\"index.md\":\"f736c913\",\"only_99_qs.md\":\"62ffbbd1\",\"only_index.md\":\"61c04c8f\",\"only_qs5.md\":\"41701874\",\"photo_01_ä¸¸å­.md\":\"f571cdbd\",\"play_00_1.md\":\"28455f86\",\"play_00_play.md\":\"9280fb36\",\"play_01_è™šæ‹Ÿæ»šåŠ¨_0_åŸç†.md\":\"34242803\",\"play_01_è™šæ‹Ÿæ»šåŠ¨_1_ç»„ä»¶.md\":\"016975cb\",\"play_02_ä¸¤çº§è”åŠ¨æ»šåŠ¨_01_ç»„ä»¶.md\":\"fc6efd40\",\"plugin_00_æ’ä»¶.md\":\"381f32c9\",\"plugin_01_å›¾ç‰‡ã€æµ·æŠ¥_00_html2canvas.md\":\"f62de540\",\"plugin_02_æ‹–æ‹½_00_draggable.md\":\"b36a3570\",\"plugin_03_ç§»åŠ¨ç«¯è°ƒè¯•_0_vconsole.md\":\"a48a41fa\",\"plugin_03_ç§»åŠ¨ç«¯è°ƒè¯•_1_eruda.md\":\"dfaf040c\",\"plugin_04_è£å‰ªå›¾ç‰‡æ’ä»¶_0_vue-cropper.md\":\"cb340cb5\",\"plugin_05_æ»šåŠ¨ã€æ»‘åŠ¨_0_better-scroll.md\":\"7744354c\",\"plugin_06_mock_01_vite-mockæ’ä»¶.md\":\"4ca38168\",\"plugin_07_echart_01_åŸºæœ¬ä½¿ç”¨.md\":\"9fb07272\",\"plugin_07_echart_02_vue2å°è£….md\":\"72b874f6\",\"plugin_07_echart_0_demo.md\":\"65646141\",\"plugin_08_threejs_0_demo.md\":\"3387da82\",\"plugin_08_threejs_1_ç®€å•ä½¿ç”¨.md\":\"1f51eb0d\",\"plugin_09_iosé€‚é….md\":\"37725cfd\",\"plugin_10_è™šæ‹Ÿæ»‘åŠ¨.md\":\"ed2e7a57\",\"software_00_è½¯ä»¶.md\":\"fb5a1b1c\"}")</script>
    <script type="module" async src="/blog-press/assets/app.a5b2d336.js"></script>
    
  </body>
</html>